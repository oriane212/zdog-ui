(this.webpackJsonpreactapp=this.webpackJsonpreactapp||[]).push([[0],{132:function(e,a,t){},21:function(e,a,t){},361:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(14),o=t.n(r),l=(t(132),t(13)),s=(t(21),t(416)),i=t(103),d=t(104),u=t(44),b=t(116),h=t(114);function p(){for(var e="0123456789",a="",t=0;t<5;t++)a+=e.charAt(Math.floor(Math.random()*e.length));return console.log(a),a}var m=t(436),j=t(362),f=t(1);var g=function(e){return Object(f.jsxs)("div",{className:"parameter",children:[Object(f.jsxs)(j.a,{id:e.id,children:[e.label,"= ",e.value]}),Object(f.jsx)(m.a,{value:e.value,min:e.min,max:e.max,step:e.step,onChange:function(a){console.log("range input changed"),e.onChange(a)},"aria-labelledby":e.id})]})},x=(c.a.Component,t(422),t(19)),O=t(417),v=t(418),y=t(432),C=t(437),k=t(419),_=t(6),S=t.n(_),N=Object(s.a)((function(e){return{checkboxFace:{"padding-bottom":12,display:"inline-block",marginTop:4},parameterInline:{display:"inline-block",margin:12},inlineCheckbox:{display:"inline-block",marginTop:2,width:70},disabledlabel:{fontSize:"small",color:"darkgray"},labelsm:{fontSize:"small"}}}));var F=function(e){var a=e.side,t=e.copyOfShape,c=e.updateShapes,r=e.cursorFocus,o=e.shapeRefs,l=N(),s="".concat(a,"Face"),i=a[0].toUpperCase()+a.slice(1),d=o[s];return Object(n.useEffect)((function(){e.refocus(r,o)}),[]),Object(f.jsxs)("div",{children:[Object(f.jsx)(O.a,{className:l.inlineCheckbox,children:Object(f.jsx)(v.a,{label:i,control:Object(f.jsx)(y.a,{checked:!0===t.faces[s],onChange:function(e){return c(e,"checkbox_face","".concat(s,"_").concat(0),"")},size:"small",color:"primary",className:l.checkboxFace})})}),Object(f.jsx)(O.a,{className:l.parameterInline,children:Object(f.jsx)("input",{type:"color",id:"".concat(s,"_")+0,value:!0===t.faces[s]?t.data[s]:t.faces[s],onChange:function(e){return c(e,"color","".concat(s,"_").concat(0),"")},inputref:d,disabled:!0!==t.faces[s]})})]})};function z(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];function t(e){return" "+(a?e:e.toLowerCase())}var n=e.replace(/[A-Z]/g,t);if(a){var c=n.charAt(0).toUpperCase();n=c+n.slice(1)}return n}var w=Object(s.a)((function(e){return{parameter:{display:"block",margin:12}}}));var R=function(e){var a=e.copyOfShape,t=e.parameter,n=z(t),c=e.updateShapes,r=e.checkValueOnBlur,o=e.paramRef,l=w();return Object(f.jsxs)(O.a,{className:l.parameter,children:[Object(f.jsx)(C.a,{htmlFor:t+"_0",children:n}),Object(f.jsx)(k.a,{inputRef:o,id:t+"_0",value:a.data[t],onBlur:function(e){return r(e,"textinput","".concat(t,"_").concat(0),"")},disabled:!1,onChange:function(e){return c(e,"textinput","".concat(t,"_").concat(0),"")}})]})},I=Object(s.a)((function(e){return{parameter:{display:"block",margin:12,marginLeft:4},slider:{marginBottom:36,display:"block",fontSize:"small"},label:{fontSize:"small","margin-bottom":8,marginTop:24}}}));var T=function(e){var a,t=[e.id,e.label,e.value],n=t[0],c=t[1],r=t[2],o=[e.min,e.max,e.step],l=o[0],s=o[1],i=o[2],d=e.onChange;if(e.marks.length<2){console.log("INSIDE EMPTY MARKS");for(var u=[],b=l;b<=s;b++){var h={value:Number(b),label:"".concat(b)};u.push(h)}console.log(u),a=u}else a=e.marks;var p=I();return Object(f.jsxs)(O.a,{className:p.parameter,children:[Object(f.jsxs)("p",{id:n+"_label",className:p.label,children:[c," ",void 0!==e.sublabel?Object(f.jsx)("span",{className:"tinytext",children:e.sublabel}):""," "]}),Object(f.jsx)(m.a,{className:p.slider,id:n,value:r,min:l,max:s,step:i,marks:a,onChange:d,"aria-labelledby":n+"_label"})]})},B=t(438),V=t(439),E=t(430),A=t(429),P=t(435),L=S.a.TAU,M=[{value:0,label:"0"},{value:L/12,label:"30"},{value:L/4,label:"90"},{value:L/2,label:"180"},{value:L/4*3,label:"270"},{value:L}],G=Object(s.a)((function(e){return{parameterGroup:{display:"block",margin:12,marginTop:24,fontSize:"small"},parameterSection:{display:"block",marginLeft:12,marginTop:24,marginBottom:42,fontSize:"small"},label:{fontSize:"small","margin-bottom":14,marginTop:24}}}));var H=function(e){var a=G(),t=e.updateShapes,n=e.nodeId,c=e.rotateData,r=[];return["x","y","z"].forEach((function(e,a){var o="rotate_".concat(e,"_0"),l="canvasnode"===n?c["rotate_".concat(e)][0]:c[e],s=Object(f.jsx)(T,{id:o,label:"".concat(e," = ").concat(Math.round(l*(180/Math.PI))),value:l,min:0,max:L,step:L/72,marks:M,onChange:"canvasnode"===n?function(a,t){return c["rotate_".concat(e)][1](t)}:function(e,a){return t(e,"vector",o,a)}},a);r.push(s)})),Object(f.jsxs)("div",{className:a.parameterSection,children:[Object(f.jsx)("p",{className:a.label,children:Object(f.jsx)("b",{children:"Rotation"})}),r]})},Z=t(109),D=t.n(Z),U=Object(s.a)((function(e){return{slider:{width:155,display:"block",marginTop:4,marginBottom:6,marginLeft:12},checkbox:{"padding-bottom":10},inlinecheckbox:{"padding-bottom":10,display:"inline-block"},parameter:{display:"block",margin:12},parameterSubGroup:{display:"block",margin:12,marginTop:12,fontSize:"small"},parameterCheckbox:{display:"block","margin-left":12,"margin-top":3,"margin-bottom":3},inlineParameterCheckbox:{display:"inline-block","margin-left":12,"margin-top":3,"margin-bottom":3},subparameter:{"margin-left":38,"margin-top":3,"margin-bottom":3},myprimary:{color:"black"},root:{backgroundColor:"#f9f9f9",fontSize:"0.9rem"},addshape:{width:140,height:32},add:{backgroundColor:"dodgerblue",color:"white"},li:{paddingTop:4,paddingBottom:4},nested:{paddingTop:4,paddingBottom:4},body2:{fontSize:"0.9rem"},sublabel:{fontSize:"small","margin-bottom":14,marginTop:8,marginLeft:8},formControl:{margin:e.spacing(1),minWidth:120},smallFont:{fontSize:"small"},label:{fontSize:"small","margin-bottom":14,marginTop:12,fontWeight:"bold"}}}));var q=function(e){var a,t=e.stateVars,n=[t.canvas_w[0],t.canvas_w[1]],r=n[0],o=n[1],l=[t.canvas_h[0],t.canvas_h[1]],s=l[0],i=l[1],d=[t.zoom[0],t.zoom[1]],u=d[0],b=d[1],h=(t.dragRotate[0],t.dragRotate[1],t.animate[0],t.animate[1],t.rotate_x[0],t.rotate_x[1],t.rotate_y[0],t.rotate_y[1],t.rotate_z[0],t.rotate_z[1],[t.spin_x[0],t.spin_x[1]]),p=h[0],g=h[1],x=[t.spin_y[0],t.spin_y[1]],_=x[0],S=x[1],N=[t.spin_z[0],t.spin_z[1]],F=N[0],z=N[1],w=[t.easeIO[0],t.easeIO[1]],R=w[0],I=w[1],L=[t.animateSelection[0],t.animateSelection[1]],M=L[0],G=L[1],Z=[t.fallback[0],t.fallback[1]],q=Z[0],J=Z[1],W=[t.animationOption[0],t.animationOption[1]],X=W[0],Y=W[1],K=[t.bgColor[0],t.bgColor[1]],Q=K[0],$=K[1],ee=(e.cursorFocus,e.checkCursorFocus),ae=U();function te(e,a){isNaN(e.target.value)||e.target.value.includes("-")||0===e.target.value.length?(e.target.value=0,a(e.target.value)):"0"===e.target.value[0]&&e.target.value.length>1?("."!==e.target.value[1]||isNaN(e.target.value[2]))&&(e.target.value=0,a(e.target.value)):"."===e.target.value[e.target.value.length-1]&&(e.target.value=e.target.value.slice(0,-1),a(e.target.value))}function ne(e,a){var t=e.split("_")[1],n=JSON.parse(JSON.stringify(R));n[t]=a,I(n)}return"spin"===M?a=Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsxs)(O.a,{className:ae.slider,children:[Object(f.jsxs)(j.a,{variant:"body2",id:"spin_x_label",children:["x = ",(p*(180/Math.PI)).toFixed(1)," ",Object(f.jsx)("span",{className:"tinytext",children:"deg/rerender"})]}),Object(f.jsx)(m.a,{className:ae.slider,id:"spin_x",value:p,min:0,max:1,step:.01,onChange:function(e,a){g(a),ee()},"aria-labelledby":"spin_x_label"})]}),Object(f.jsxs)(O.a,{className:ae.slider,children:[Object(f.jsxs)(j.a,{variant:"body2",id:"spin_y_label",children:["y = ",(_*(180/Math.PI)).toFixed(1)," ",Object(f.jsx)("span",{className:"tinytext",children:"deg/rerender"})]}),Object(f.jsx)(m.a,{className:ae.slider,id:"spin_y",value:_,min:0,max:1,step:.01,onChange:function(e,a){S(a),ee()},"aria-labelledby":"spin_y_label"})]}),Object(f.jsxs)(O.a,{className:ae.slider,children:[Object(f.jsxs)(j.a,{variant:"body2",id:"spin_z_label",children:["z = ",(F*(180/Math.PI)).toFixed(1)," ",Object(f.jsx)("span",{className:"tinytext",children:"deg/rerender"})]}),Object(f.jsx)(m.a,{className:ae.slider,id:"spin_z",value:F,min:0,max:1,step:.01,onChange:function(e,a){z(a),ee()},"aria-labelledby":"spin_z_label"})]})]}):"ease"===M&&(a=Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(O.a,{className:ae.inlineParameterCheckbox,children:Object(f.jsx)(v.a,{label:"x",control:Object(f.jsx)(y.a,{className:ae.checkbox,checked:R.x,onChange:function(){ne("easeIO_x",!R.x),ee()},size:"small",name:"easeIO_x",id:"easeIO_x",color:"primary"})})}),Object(f.jsx)(O.a,{className:ae.inlineParameterCheckbox,children:Object(f.jsx)(v.a,{label:"y",control:Object(f.jsx)(y.a,{className:ae.checkbox,checked:R.y,onChange:function(){ne("easeIO_y",!R.y),ee()},size:"small",name:"easeIO_y",id:"easeIO_y",color:"primary"})})}),Object(f.jsx)(O.a,{className:ae.inlineParameterCheckbox,children:Object(f.jsx)(v.a,{label:"z",control:Object(f.jsx)(y.a,{className:ae.checkbox,checked:R.z,onChange:function(){ne("easeIO_z",!R.z),ee()},size:"small",name:"easeIO_z",id:"easeIO_z",color:"primary"})})})]}),Object(f.jsxs)("div",{className:ae.parameterSubGroup,children:[Object(f.jsx)(T,{id:"easeIO_cycleCount",label:"Cycle",sublabel:"count = ".concat(R.cycleCount),value:R.cycleCount,min:100,max:500,step:50,marks:[{value:150,label:"short"},{value:450,label:"long"}],onChange:function(e,a){ne("easeIO_cycleCount",a),ee()}}),Object(f.jsx)(T,{id:"easeIO_power",label:"Power",value:R.power,min:2,max:5,step:1,marks:[""],onChange:function(e,a){ne("easeIO_power",a),ee()}})]})]})),Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{className:ae.label+" "+ae.parameter,children:"Canvas"}),Object(f.jsxs)(O.a,{className:ae.parameter,children:[Object(f.jsx)("label",{htmlFor:"bgColor",className:ae.labelsm,children:"Background"}),Object(f.jsx)("input",{type:"color",id:"bgColor",value:Q,onChange:function(e){$(e.target.value),ee()}})]}),Object(f.jsxs)(O.a,{className:ae.parameter,children:[Object(f.jsxs)(C.a,{htmlFor:"fallback",children:["Fallback Text ",Object(f.jsx)(B.a,{className:ae.mediumFont,title:Object(f.jsx)(j.a,{variant:"body2",children:"Alternative text added inside the canvas tags. Useful for assistive technology users (eg. screen readers) or browsers which don't support canvas rendering."}),children:Object(f.jsx)(D.a,{fontSize:"inherit"})})]}),Object(f.jsx)(k.a,{id:"fallback",multiline:!0,maxRows:8,value:q,onChange:function(e){J(e.target.value),ee()}})]}),Object(f.jsxs)(O.a,{className:ae.parameter,children:[Object(f.jsx)(C.a,{htmlFor:"canvas_w",children:"Width"}),Object(f.jsx)(k.a,{id:"canvas_w",value:r,disabled:!1,onChange:function(e){o(e.target.value),ee()},onBlur:function(e){te(e,o)}})]}),Object(f.jsxs)(O.a,{className:ae.parameter,children:[Object(f.jsx)(C.a,{htmlFor:"canvas_h",children:"Height"}),Object(f.jsx)(k.a,{id:"canvas_h",value:s,disabled:!1,onChange:function(e){i(e.target.value),ee()},onBlur:function(e){te(e,i)}})]}),Object(f.jsxs)(O.a,{className:ae.parameter,children:[Object(f.jsx)(C.a,{htmlFor:"zoom",children:"Zoom"}),Object(f.jsx)(k.a,{id:"zoom",value:u,onChange:function(e){b(e.target.value),ee()},onBlur:function(e){te(e,b)}})]}),Object(f.jsx)(H,{nodeId:"canvasnode",rotateData:t,updateShapes:""}),Object(f.jsxs)(O.a,{component:"fieldset",className:ae.parameterCheckbox,children:[Object(f.jsx)("p",{className:ae.label,children:"Animation"}),Object(f.jsxs)(V.a,{"aria-label":"animation",name:"animation",value:X,onChange:function(e){return Y(e.target.value)},children:[Object(f.jsx)(v.a,{value:"none",label:"None",control:Object(f.jsx)(E.a,{size:"small",color:"primary"})}),Object(f.jsx)(v.a,{value:"dragRotate",label:"Drag Rotate",control:Object(f.jsx)(E.a,{size:"small",color:"primary"})}),Object(f.jsx)(v.a,{value:"animate",label:"Animate",control:Object(f.jsx)(E.a,{size:"small",color:"primary"})})]})]}),Object(f.jsxs)("div",{className:ae.parameterSubGroup,children:[Object(f.jsx)(O.a,{className:ae.formControl,disabled:"animate"!==X,children:Object(f.jsxs)(A.a,{labelId:"animateSelection_label",id:"animateSelection",value:M,onChange:function(e){G(e.target.value)},className:ae.smallFont,children:[Object(f.jsx)(P.a,{value:"spin",className:ae.smallFont,children:"Continuous spin"}),Object(f.jsx)(P.a,{value:"ease",className:ae.smallFont,children:"Ease In/Out"})]})}),"animate"===X?a:""]})]})};S.a.TAU,Object(s.a)((function(e){return{parameterGroup:{display:"block",margin:12,marginTop:24,fontSize:"small"},label:{fontSize:"small","margin-bottom":14,marginTop:24}}}));var J=t(363),W=t(115),X=t(32),Y=t.n(X),K=t(40),Q=t.n(K),$=t(423),ee=Object(s.a)((function(e){return{parameter:{display:"block",margin:12,fontSize:"small"},label:{fontSize:"small","margin-bottom":14,marginRight:14},textField:{width:55,marginBottom:8},ptBtn:{width:36,height:36},pathpointHeader:{display:"flex","align-items":"center",height:44,marginTop:10},pathpointContainer:{"&:hover .deletePtBtnContainer":{display:"inline-flex"}}}}));function ae(e){var a=ee(),t=e.pathindex,c=e.segmentindex,r=e.copyOfShape,o=e.addedShapes,l=e.flattened,s=e.cursorFocus,i=e.emptyOrNegative,d={x:Object(n.useRef)(),y:Object(n.useRef)(),z:Object(n.useRef)()},u=r.data.path[t],b=Object.keys(u)[0],h="path_".concat(t,"_").concat(b,"_").concat(c),p="-"===c?u[b]:u[b][c];function m(e,a){"-"!==e.target.value&&0!==e.target.value.length||(e.target.value=0,j(e,a,!1))}function j(e,a){var t,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];1===e.target.value.length&&"-"===e.target.value?(i[1](["-",a,e.target.id]),t=0):0===e.target.value.length?(i[1](["",a,e.target.id]),t=0):"."===e.target.value[e.target.value.length-1]?"."===e.target.value[0]?(e.target.value="0"+e.target.value,i[1]([e.target.value,a,e.target.id]),t=Number(e.target.value)):"-"===e.target.value[0]&&"."===e.target.value[1]?(e.target.value="-0"+e.target.value.slice(1),i[1]([e.target.value,a,e.target.id]),t=Number(e.target.value)):(i[1]([e.target.value,a,e.target.id]),t=Number(e.target.value.slice(0,-1))):(t=Number(e.target.value),i[1]([!1,!1,""])),"x"===a?p.set({x:t,y:p.y,z:p.z}):"y"===a?p.set({x:p.x,y:t,z:p.z}):p.set({x:p.x,y:p.y,z:t}),n?s[1]({id:e.target.id,cursorPos:e.target.selectionStart}):s[1]({id:"",cursorPos:0}),i[0]===[!1,!1,""]&&o[1](l)}return Object(n.useEffect)((function(){!function(){var e=s[0].cursorPos,a=s[0].id;if(a.includes(h)){var t=a[a.length-1];console.log("AXIS = "+t);var n=d[t];n.current.focus(),0!==e&&n.current.setSelectionRange(e,e)}}()}),[]),Object(f.jsxs)("div",{children:[Object(f.jsxs)(O.a,{className:a.textField,children:[Object(f.jsx)(C.a,{htmlFor:h+"_x",children:"x"}),Object(f.jsx)(k.a,{inputRef:d.x,id:h+"_x",value:i[0][2]==="".concat(h,"_x")&&"x"===i[0][1]?i[0][0]:p.x,onBlur:function(e){return m(e,"x")},disabled:!1,onChange:function(e){return j(e,"x")}}),"line"===b?"":Object(f.jsx)($.a,{children:{line:["point"],move:["start"],arc:["corner","end"],bezier:["control 1","control 2","end"]}[b]["-"===c?0:c]})]}),Object(f.jsxs)(O.a,{className:a.textField,children:[Object(f.jsx)(C.a,{htmlFor:h+"_y",children:"y"}),Object(f.jsx)(k.a,{inputRef:d.y,id:h+"_y",value:i[0][2]==="".concat(h,"_y")&&"y"===i[0][1]?i[0][0]:p.y,onBlur:function(e){return m(e,"y")},disabled:!1,onChange:function(e){return j(e,"y")}})]}),Object(f.jsxs)(O.a,{className:a.textField,children:[Object(f.jsx)(C.a,{htmlFor:h+"_z",children:"z"}),Object(f.jsx)(k.a,{inputRef:d.z,id:h+"_z",value:i[0][2]==="".concat(h,"_z")&&"z"===i[0][1]?i[0][0]:p.z,onBlur:function(e){return m(e,"z")},disabled:!1,onChange:function(e){return j(e,"z")}})]})]})}var te=Object(s.a)((function(e){return{parameter:{display:"block",margin:12,fontSize:"small"},label:{fontSize:"small","margin-bottom":14,marginRight:14},textField:{width:55},ptBtn:{width:36,height:36},pathSegmentHeader:{display:"flex","align-items":"center",height:44,marginTop:10},pathSegmentContainer:{"&:hover .deleteSegmentBtnContainer":{display:"inline-flex"}}}}));function ne(e){var a=te(),t=e.pathindex,n=e.copyOfShape,c=e.addedShapes,r=e.flattened,o=e.cursorFocus,l=e.emptyOrNegative,s=n.data.path[t],i=Object.keys(s)[0];var d=Object(f.jsx)("div",{className:"deleteSegmentBtnContainer",children:Object(f.jsx)(J.a,{className:a.ptBtn,onClick:function(){var e=function(){var e=[];return e.push(n.data.path),e.flat()}();e.splice(t,1),n.data.path=e,c[1](r)},"aria-label":"delete path segment",children:Object(f.jsx)(Q.a,{fontSize:"small"})})}),u=i.charAt(0).toUpperCase()+i.slice(1);0===t&&(u="Start");var b=[];if("line"===i||"move"===i){var h=Object(f.jsx)(ae,{pathindex:t,segmentindex:"-",copyOfShape:n,addedShapes:c,flattened:r,cursorFocus:o,emptyOrNegative:l});b.push(h)}else s[i].forEach((function(e,a){var s=Object(f.jsx)(ae,{pathindex:t,segmentindex:a,copyOfShape:n,addedShapes:c,flattened:r,cursorFocus:o,emptyOrNegative:l},p());b.push(s)}));return Object(f.jsxs)("div",{className:a.pathSegmentContainer,children:[Object(f.jsxs)("div",{className:a.pathSegmentHeader,children:[Object(f.jsx)("p",{className:a.label,children:u}),0===t?"":d]}),b]})}var ce=Object(s.a)((function(e){return{parameterSection:{display:"block",marginLeft:12,marginTop:24,marginBottom:42,fontSize:"small"},label:{fontSize:"small","margin-bottom":14,marginTop:24},smallFont:{fontSize:"0.8rem"}}}));function re(e){var a=ce(),t=c.a.useState(null),r=Object(l.a)(t,2),o=r[0],s=r[1],i=Object(n.useState)([!1,!1]),d=e.checkCursorFocus,u=e.cursorFocus,b=e.copyOfShape,h=e.addedShapes,m=e.flattened;var j=function(){s(null)};function g(e){j();var a=function(){var e=[];return e.push(b.data.path),e.flat()}();if("line"===e){var t=new S.a.Vector({});a.push({line:t})}else if("move"===e){var n=new S.a.Vector({});a.push({move:n})}else if("arc"===e){var c=[new S.a.Vector({}),new S.a.Vector({})];a.push({arc:c})}else if("bezier"===e){var r=[new S.a.Vector({}),new S.a.Vector({}),new S.a.Vector({})];a.push({bezier:r})}b.data.path=a,h[1](m),console.log(e)}return Object(f.jsxs)("div",{className:a.parameterSection,children:[Object(f.jsx)("p",{className:a.label,children:Object(f.jsx)("b",{children:"Path"})}),function(){var e=[];return b.data.path.forEach((function(a,t){var n=Object(f.jsx)(ne,{pathindex:t,copyOfShape:b,addedShapes:h,flattened:m,cursorFocus:u,emptyOrNegative:i},p());e.push(n)})),e}(),Object(f.jsx)(J.a,{id:"addToPathBtn",onClick:function(e){console.log("add to path"),s(e.currentTarget),d()},children:Object(f.jsx)(Y.a,{fontSize:"small"})}),Object(f.jsxs)(W.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:j,children:[Object(f.jsx)(P.a,{className:a.smallFont,onClick:function(){return g("line")},value:"line",children:"Line"}),Object(f.jsx)(P.a,{disabled:1===b.data.path.length,className:a.smallFont,onClick:function(){return g("move")},value:"move",children:"Move"}),Object(f.jsx)(P.a,{className:a.smallFont,onClick:function(){return g("arc")},value:"arc",children:"Arc"}),Object(f.jsx)(P.a,{className:a.smallFont,onClick:function(){return g("bezier")},value:"bezier",children:"Bezier"})]})]})}var oe=Object(s.a)((function(e){var a;return a={checkbox:{"padding-bottom":12},parameter:{display:"block",margin:12,fontSize:"small"},parameterInline:{display:"inline-block",margin:12},parameterGroup:{display:"block",margin:12,marginTop:24,fontSize:"small"},parameterCheckbox:{display:"block","margin-left":12,"margin-top":3,"margin-bottom":3},subparameter:{"margin-left":32,"margin-top":3,"margin-bottom":3},nested:{paddingLeft:e.spacing(4)},".MuiTypography-body1":{fontSize:"0.5rem"},label:{fontSize:"small","margin-bottom":14,marginTop:24},labelsm:{fontSize:"small",display:"inline-block",width:84},textField:{width:55},delete:{margin:16,color:"red"},myprimary:{color:"black"},confirmDialog:{padding:40},li:{paddingTop:4,paddingBottom:4},slider:{marginBottom:36,marginLeft:2,display:"block",fontSize:"small"}},Object(x.a)(a,"checkbox",{"padding-bottom":10}),Object(x.a)(a,"inlineCheckbox",{display:"inline-block",marginTop:2,width:70}),Object(x.a)(a,"checkboxFace",{"padding-bottom":12,display:"inline-block",marginTop:4}),Object(x.a)(a,"disabledlabel",{fontSize:"small",color:"darkgray"}),a}));var le=function(e){var a=e.cursorFocus;console.log("cursorFocus = ",a);var t=e.selectedNodeId,r=Object(l.a)(e.addedShapes,2),o=r[0],s=r[1],i=Object(n.useState)(!1),d=Object(l.a)(i,2),u=(d[0],d[1],{stroke:Object(n.useRef)(),fill:Object(n.useRef)(),closed:Object(n.useRef)(),color:Object(n.useRef)(),backface:Object(n.useRef)(),translate_x:Object(n.useRef)(),translate_y:Object(n.useRef)(),translate_z:Object(n.useRef)()}),b={width:Object(n.useRef)(),height:Object(n.useRef)(),depth:Object(n.useRef)(),diameter:Object(n.useRef)(),length:Object(n.useRef)(),cornerRadius:Object(n.useRef)(),radius:Object(n.useRef)(),sides:Object(n.useRef)(),frontFace:Object(n.useRef)(),rearFace:Object(n.useRef)(),topFace:Object(n.useRef)(),bottomFace:Object(n.useRef)(),leftFace:Object(n.useRef)(),rightFace:Object(n.useRef)(),quarters:Object(n.useRef)(),path:Object(n.useRef)()},h=oe();function p(){var e=[];return e.push(o),e.flat()}var m=p(),j="canvasnode"!==t[0]?function(e){var a,n=t[0].split("_").map((function(e){return Number(e)}));return n.forEach((function(t,c){0<c&&c<=n.length-1?a=a.children[t]:0===c&&(a=e[t])})),a}(m):"",g=Object(n.useRef)([!1,!1]);function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=n.split("_"),o=r[0],l=r[1];if("vector"===t){var i;"translate"===o?1===e.target.value.length&&"-"===e.target.value?(g.current=["-",l],i=0):0===e.target.value.length?(g.current=["",l],i=0):"."===e.target.value[e.target.value.length-1]?(g.current=[e.target.value,l],i=Number(e.target.value.slice(0,-1))):(i=Number(e.target.value),g.current=[!1,!1]):"rotate"===o&&(i=Number(c));var d=j.data[o];"x"===l?d.set({x:i,y:d.y,z:d.z}):"y"===l?d.set({x:d.x,y:i,z:d.z}):d.set({x:d.x,y:d.y,z:i}),a[1]({id:n,cursorPos:e.target.selectionStart})}else"checkbox_face"===t?(e.target.checked?(j.data[o]=j.faces[o],j.faces[o]=!0):(j.faces[o]=j.data[o],j.data[o]=!1),a[1]({id:"",cursorPos:0})):"slider"===t?(j.data[o]=c,a[1]({id:"",cursorPos:0})):"checkbox"===t?(j.data[o]=!j.data[o],a[1]({id:"",cursorPos:0})):"textinput"===t?(j.data[o]=e.target.value,a[1]({id:e.target.id,cursorPos:e.target.selectionStart})):"color"===t&&(j.data[o]=e.target.value,a[1]({id:"",cursorPos:0}));g.current===[!1,!1]&&s(m)}var _="",S=[],N=[],w=Object(f.jsxs)("div",{className:h.parameterGroup,children:[Object(f.jsx)("p",{className:h.label,children:"Faces"}),N]});function I(e,a){if(""!==e[0].id&&!e[0].id.includes("path")){var t,n=e[0].id.split("_");console.log(n),3===n.length?(console.log("equal to 3"),t="".concat(n[0],"_").concat(n[1])):t="".concat(n[0]);var c=e[0].cursorPos,r=void 0!==a[t]?a[t]:u[t];void 0!==r&&void 0!==r.current&&null!==r.current&&(r.current.focus(),0!==c&&r.current.setSelectionRange(c,c))}}function B(e,a,t,n){"textinput"===a?isNaN(e.target.value)||e.target.value.includes("-")||0===e.target.value.length?(e.target.value=0,x(e,a,t,n)):"0"===e.target.value[0]&&e.target.value.length>1&&("."!==e.target.value[1]||isNaN(e.target.value[2])?(e.target.value=0,x(e,a,t,n)):"."===e.target.value[e.target.value.length-1]&&(e.target.value=e.target.value.slice(0,-1),x(e,a,t,n))):"-"===e.target.value||0===e.target.value.length?(e.target.value=0,x(e,a,t,n)):"."===e.target.value[e.target.value.length-1]&&(e.target.value=e.target.value.slice(0,-1),x(e,a,t,n))}return"canvasnode"!==t[0]&&(Object.keys(b).forEach((function(t){if(void 0!==j.data[t])if(t.includes("Face")&&"Box"===j.shapeClass){var n=t.split("F")[0],c=Object(f.jsx)(F,{side:n,copyOfShape:j,updateShapes:x,cursorFocus:a,refocus:I,shapeRefs:b});N.push(c)}else if("quarters"===t||"sides"===t){var r="quarters"===t?1:3,o="quarters"===t?4:12,l="".concat(t,"_").concat(0),s=Object(f.jsx)(T,{id:l,label:z(t),value:j.data[t],min:r,max:o,step:1,marks:[""],onChange:function(e,a){return x(e,"slider",l,a)}});S.push(s)}else if("path"===t){var i=Object(f.jsx)(re,{checkCursorFocus:e.checkCursorFocus,cursorFocus:a,copyOfShape:j,addedShapes:e.addedShapes,flattened:m});S.push(i)}else if("frontFace"!==t){var d=Object(f.jsx)(R,{checkValueOnBlur:B,parameter:t,copyOfShape:j,updateShapes:x,paramRef:b[t]});S.push(d)}})),0!==N.length&&S.push(w),_=function(){var e=Object(f.jsxs)(O.a,{className:h.parameter,children:[Object(f.jsx)("label",{htmlFor:"frontFace_0",className:h.labelsm,children:"Front Face"}),Object(f.jsx)("input",{type:"color",id:"frontFace_0",value:j.data.frontFace,onChange:function(e){return x(e,"color","frontFace_".concat(0),"")},inputref:b.frontFace})]});return Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsxs)(O.a,{className:h.parameter,children:[Object(f.jsx)("label",{htmlFor:"color_0",className:h.labelsm,children:"Color"}),Object(f.jsx)("input",{type:"color",id:"color_0",value:j.data.color,onChange:function(e){return x(e,"color","color_".concat(0),"")},inputref:u.color})]}),Object(f.jsxs)(O.a,{className:h.parameter,children:[Object(f.jsx)("label",{htmlFor:"backface_0",className:h.labelsm,children:"Back Face"}),Object(f.jsx)("input",{type:"color",id:"backface_0",value:j.data.backface,onChange:function(e){return x(e,"color","backface_".concat(0),"")},inputref:u.backface})]}),"Cylinder"===j.shapeClass?e:""]})}()),Object(n.useEffect)((function(){I(a,b)}),[]),Object(f.jsx)(c.a.Fragment,{children:"canvasnode"===t[0]?Object(f.jsx)(q,{checkCursorFocus:e.checkCursorFocus,cursorFocus:a,stateVars:e.stateVars,updateShapes:x}):Object(f.jsxs)("div",{children:["Box"!==j.shapeClass&&"Group"!==j.shapeClass?_:"","Group"!==j.shapeClass?Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsx)(O.a,{className:h.parameterCheckbox,children:Object(f.jsx)(v.a,{label:"Fill",control:Object(f.jsx)(y.a,{inputRef:u.fill,checked:j.data.fill,onChange:function(e){return x(e,"checkbox","fill_".concat(0),"")},size:"small",id:"fill_0",color:"primary",className:h.checkbox})})}),"Shape"===j.shapeClass?Object(f.jsx)(O.a,{className:h.parameterCheckbox,children:Object(f.jsx)(v.a,{label:"Closed",control:Object(f.jsx)(y.a,{inputRef:u.closed,checked:j.data.closed,onChange:function(e){return x(e,"checkbox","closed_".concat(0),"")},size:"small",id:"closed_0",color:"primary",className:h.checkbox})})}):"",Object(f.jsxs)(O.a,{className:h.parameter,children:[Object(f.jsx)(C.a,{htmlFor:"stroke_0",children:"Stroke"}),Object(f.jsx)(k.a,{inputRef:u.stroke,id:"stroke_0",value:j.data.stroke,onBlur:function(e){return B(e,"textinput","stroke_".concat(0),"")},disabled:!1,onChange:function(e){x(e,"textinput","stroke_".concat(0),""),console.log(e.target.selectionStart)}})]})]}):"",Object(f.jsxs)("div",{className:h.parameter,children:[Object(f.jsx)("p",{className:h.label,children:"Translate"}),Object(f.jsxs)(O.a,{className:h.textField,children:[Object(f.jsx)(C.a,{htmlFor:"translate_x_0",children:"x"}),Object(f.jsx)(k.a,{inputRef:u.translate_x,id:"translate_x_0",value:"x"===g.current[1]?g.current[0]:j.data.translate.x,onBlur:function(e){return B(e,"vector","translate_x_".concat(0),"")},disabled:!1,onChange:function(e){return x(e,"vector","translate_x_".concat(0),"")}})]}),Object(f.jsxs)(O.a,{className:h.textField,children:[Object(f.jsx)(C.a,{htmlFor:"translate_y_0",children:"y"}),Object(f.jsx)(k.a,{inputRef:u.translate_y,id:"translate_y_0",value:"y"===g.current[1]?g.current[0]:j.data.translate.y,onBlur:function(e){return B(e,"vector","translate_y_".concat(0),"")},disabled:!1,onChange:function(e){return x(e,"vector","translate_y_".concat(0),"")}})]}),Object(f.jsxs)(O.a,{className:h.textField,children:[Object(f.jsx)(C.a,{htmlFor:"translate_z_0",children:"z"}),Object(f.jsx)(k.a,{inputRef:u.translate_z,id:"translate_z_0",value:"z"===g.current[1]?g.current[0]:j.data.translate.z,onBlur:function(e){return B(e,"vector","translate_z_".concat(0),"")},disabled:!1,onChange:function(e){return x(e,"vector","translate_z_".concat(0),"")}})]})]}),Object(f.jsx)(H,{nodeId:t[0],rotateData:j.data.rotate,updateShapes:x}),S]})})};Object(s.a)((function(e){return{slider:{width:200},checkbox:{"padding-bottom":12},parameter:{display:"block",margin:16},subparameter:{"margin-left":32,"margin-top":3,"margin-bottom":3},root:{backgroundColor:"#f1f1f1"}}}));var se=Object(s.a)((function(e){return{slider:{width:155},checkbox:{"padding-bottom":10},parameter:{display:"block",margin:12},parameterCheckbox:{display:"block","margin-left":12,"margin-top":3,"margin-bottom":3},subparameter:{"margin-left":38,"margin-top":3,"margin-bottom":3},myprimary:{color:"black"},root:{backgroundColor:"#f9f9f9",fontSize:"0.9rem"},addshape:{width:140,height:32},add:{backgroundColor:"dodgerblue",color:"white"},li:{paddingTop:4,paddingBottom:4},nested:{paddingTop:4,paddingBottom:4},body2:{fontSize:"0.9rem"}}}));var ie=function(e){var a=e.stateVars,t=Object(n.useState)(!0),c=Object(l.a)(t,2),r=(c[0],c[1],Object(n.useState)("Ellipse")),o=Object(l.a)(r,2),s=(o[0],o[1],e.cursorFocus);function i(){console.log("inside cursor check"),""!==s[0].id&&(s[1]({id:"",cursorPos:0}),console.log("cursorFocus reset"))}return se(),Object(n.useEffect)((function(){i()}),[e.selectedNodeId[0]]),Object(f.jsx)("section",{className:"controls",children:Object(f.jsx)("section",{className:"controls_illo",children:Object(f.jsx)("div",{className:"controlsContainer",children:Object(f.jsx)(le,{selectedNodeId:e.selectedNodeId,addedShapes:e.addedShapes,checkCursorFocus:i,cursorFocus:s,stateVars:a})})})})},de="";var ue=function(e){var a=e.stateVars,t=e.shapes,c=Object(n.useRef)(a.zoom[0]);c.current=a.zoom[0];var r=Object(n.useRef)(a.rotate_x[0]);r.current=a.rotate_x[0];var o=Object(n.useRef)(a.rotate_y[0]);o.current=a.rotate_y[0];var l=Object(n.useRef)(a.rotate_z[0]);l.current=a.rotate_z[0];var s=Object(n.useState)(!1),i=Object(n.useRef)(a.spin_x[0]);i.current=a.spin_x[0];var d=Object(n.useRef)(a.spin_y[0]);d.current=a.spin_y[0];var u=Object(n.useRef)(a.spin_z[0]);u.current=a.spin_z[0];var b=Object(n.useRef)(a.animateSelection[0]);b.current=a.animateSelection[0];var h=Object(n.useRef)(a.easeIO[0].x);h.current=a.easeIO[0].x;var p=Object(n.useRef)(a.easeIO[0].y);p.current=a.easeIO[0].y;var m=Object(n.useRef)(a.easeIO[0].z);m.current=a.easeIO[0].z;var j=Object(n.useRef)(a.easeIO[0].cycleCount);j.current=a.easeIO[0].cycleCount;var g=Object(n.useRef)(a.easeIO[0].power);g.current=a.easeIO[0].power;var x,O=Object(n.useRef)(a.animationOption[0]);function v(e,a){e.children.length>0&&e.children.forEach((function(e){e.data.addTo=a,v(e,new S.a[e.shapeClass](e.data))}))}function y(){(de=new S.a.Illustration({element:"#illo",zoom:c.current,dragRotate:"dragRotate"===O.current,rotate:{x:r.current,y:o.current,z:l.current}})).setSize(a.canvas_w[0],a.canvas_h[0]),t[0].slice(0,t[0].length).forEach((function(e){console.log(e),e.data.addTo=de,0!==Object.keys(e.faces).length&&Object.keys(e.faces).forEach((function(a){!1===e.faces[a]&&(e.data[a]=!1)}));var a=new S.a[e.shapeClass](e.data);v(e,a)})),de.updateRenderGraph(),console.log("illo = ",de)}O.current=a.animationOption[0];var C=0;function k(){if("none"===O.current)console.log("canceling animation frame"),cancelAnimationFrame(x),de.rotate.x=r.current,de.rotate.y=o.current,de.rotate.z=l.current,de.updateRenderGraph(),s[1](!1);else{if("animate"===O.current)if("spin"===b.current)0===i.current?de.rotate.x=r.current:de.rotate.x+=i.current,0===d.current?de.rotate.y=o.current:de.rotate.y+=d.current,0===u.current?de.rotate.z=l.current:de.rotate.z+=u.current;else if("ease"===b.current){var e=C/j.current,a=S.a.easeInOut(e%1,g.current);h.current&&(de.rotate.x=r.current+a*S.a.TAU),p.current&&(de.rotate.y=o.current+a*S.a.TAU),m.current&&(de.rotate.z=l.current+a*S.a.TAU),C++}de.updateRenderGraph(),x=requestAnimationFrame(k)}}return Object(n.useEffect)((function(){y()})),Object(n.useEffect)((function(){""!==de&&"none"!==a.animationOption[0]&&!1===s[0]&&(console.log("was not rotating"),s[1](!0),k())}),[a.animationOption[0]]),Object(f.jsx)("section",{className:"results",children:Object(f.jsx)("section",{className:"illustration",width:a.canvas_w[0],height:a.canvas_h[0],children:Object(f.jsx)("canvas",{style:{backgroundColor:a.bgColor[0],cursor:"dragRotate"===O.current?"move":"default"},id:"illo",width:a.canvas_w[0],height:a.canvas_h[0],children:Object(f.jsx)("p",{children:a.fallback[0]})})})})},be={basic:["addTo","color","backface","stroke","fill","translate","rotate"],Ellipse:["width","height","quarters"],Rect:["width","height"],Box:["width","height","depth","frontFace","rearFace","topFace","bottomFace","leftFace","rightFace"],Hemisphere:["diameter"],RoundedRect:["width","height","cornerRadius"],Polygon:["radius","sides"],Cone:["diameter","length"],Cylinder:["diameter","length","frontFace"],Group:[],Shape:["path","closed"]},he=t(427),pe=t(428),me=t(65);function je(e,a){var t,n="// illo.js\n\n// create illo\nlet illo = new Zdog.Illustration({\n    // set canvas with id 'illo'\n    element: \"#illo\",\n    zoom: ".concat(e.zoom[0],",\n    dragRotate: ").concat("dragRotate"===e.animationOption[0],",\n    rotate: {\n        x: ").concat(e.rotate_x[0],",\n        y: ").concat(e.rotate_y[0],",\n        z: ").concat(e.rotate_z[0],"\n    }\n});\n\n// add shapes\n    "),c=0;function r(e,a){e.children.length>0&&e.children.forEach((function(e){var t="shape".concat(c),o=e.data;e.data.addTo="--"+a+"--";var l=JSON.stringify(o,null,"\t"),s="\nlet ".concat(t," = new Zdog['").concat(e.shapeClass,"'](").concat(l,")\n        ");n=n.concat(s),c+=1,r(e,t)}))}return a.forEach((function(e){var a="shape".concat(c),t=e.data;t.addTo="--illo--";var o=JSON.stringify(t,null,"\t"),l="\nlet ".concat(a," = new Zdog['").concat(e.shapeClass,"'](").concat(o,")\n        ");n=n.concat(l),c+=1,r(e,a)})),"animate"===e.animationOption[0]?"spin"===e.animateSelection[0]?t="\nfunction animate() {\n    illo.rotate.x += ".concat(e.spin_x[0],";\n    illo.rotate.y += ").concat(e.spin_y[0],";\n    illo.rotate.z += ").concat(e.spin_z[0],";\n    illo.updateRenderGraph();\n    requestAnimationFrame(animate);\n}\n            \n    animate();\n        "):"ease"===e.animateSelection[0]&&(t="\n/* Zdog animate fn for easeInOut */\n\nlet ticker = 0;\nlet cycleCount = ".concat(e.easeIO[0].cycleCount,";\n\nfunction animate() {\n    let progress = ticker / cycleCount;\n    // apply easing to rotation\n    let tween = Zdog.easeInOut(progress % 1, ").concat(e.easeIO[0].power,");\n    ").concat(e.easeIO[0].x?"illo.rotate.x = "+e.rotate_x[0]+" + (tween * Zdog.TAU);":"","\n    ").concat(e.easeIO[0].y?"illo.rotate.y = "+e.rotate_y[0]+" + (tween * Zdog.TAU);":"","\n    ").concat(e.easeIO[0].z?"illo.rotate.z = "+e.rotate_x[0]+" + (tween * Zdog.TAU);":"","\n    ticker++;\n\n    illo.updateRenderGraph();\n    requestAnimationFrame(animate);\n}\n\nanimate();\n        ")):t="dragRotate"===e.animationOption[0]?"\nfunction animate() {\n    illo.updateRenderGraph();\n    requestAnimationFrame(animate);\n}\n        \nanimate();\n        ":"\n// update & render\nillo.updateRenderGraph();\n        ",n=n.concat(t)}var fe=t(63),ge=t.n(fe),xe=(t(358),t(113)),Oe=t.n(xe),ve=t(90),ye=t.n(ve),Ce=t(433),ke=t(424),_e=t(434),Se=t(64),Ne=t.n(Se),Fe=Object(s.a)((function(e){return{invisible:{visibility:"hidden"},container:{paddingTop:24,backgroundColor:"#fafafa"},snackbar:{backgroundColor:"white",color:"black"},extraMarginTop:{marginTop:"36px"}}}));var ze=function(e){var a=Fe(),t=Object(n.useState)(!1),c=Object(l.a)(t,2),r=c[0],o=c[1],s=[e.editorVisibility[0],e.editorVisibility[1]],i=s[0],d=s[1],u=[e.open[0],e.open[1]],b=u[0],h=u[1],p=e.stateVars,m=e.addedShapes;function g(e){var a=document.getElementById(e).innerText;navigator.clipboard.writeText(a).then((function(){console.log("copy to clipboard successful"),o(!0)}),(function(){console.log("copy to clipboard failed")}))}return Object(n.useEffect)((function(){console.log("open"),setTimeout((function(){var e=document.getElementById("codetagsHTML_canvas"),a=document.getElementById("codetagsHTML_script"),t="dragRotate"===p.animationOption[0]?"move":"default",n='\x3c!-- canvas for Zdog illo --\x3e\n    <canvas id="illo" style="background-color:'.concat(p.bgColor[0],"; cursor:").concat(t,';" width="').concat(p.canvas_w[0],'" height="').concat(p.canvas_h[0],'">\n      <p>').concat(p.fallback[0],"</p>\n    </canvas>");Object(me.a)(e,ge.a.highlightAll).updateCode(n),Object(me.a)(a,ge.a.highlightAll).updateCode('\x3c!-- Zdog CDN and illo.js --\x3e\n    <script src="https://unpkg.com/zdog@1/dist/zdog.dist.min.js"><\/script>\n    <script src="illo.js"><\/script>');var c=document.getElementById("codetagsJS");if(null!==c){var r=Object(me.a)(c,ge.a.highlightAll);if(m[0].length>0){var o=function(){var e=[];return e.push(m[0]),e.flat()}(),l=function(e){return e.replaceAll('"--',"").replaceAll('--"',"")}(je(p,o));r.updateCode(l)}r.toString();r.onUpdate((function(e){console.log(e)}))}d(!0)}),200)}),[]),Object(f.jsx)(Ce.a,{open:b,maxWidth:"md",onClose:function(){h(!1),d(!1)},className:i?"":a.invisible,children:Object(f.jsxs)(ke.a,{className:a.container,children:[Object(f.jsx)("div",{className:"editorHeader",children:Object(f.jsx)(j.a,{children:"HTML"})}),Object(f.jsx)("div",{className:"contentcopy",children:Object(f.jsx)(J.a,{onClick:function(){return g("editorHTML_canvas")},id:"copyHTML_canvas","aria-label":"Copy to clipboard",children:Object(f.jsx)(Ne.a,{fontSize:"small"})})}),Object(f.jsx)("div",{id:"editorHTML_canvas",children:Object(f.jsx)("pre",{children:Object(f.jsx)("code",{id:"codetagsHTML_canvas",className:"language-html",children:"''"})})}),Object(f.jsx)("div",{className:"contentcopy",children:Object(f.jsx)(J.a,{onClick:function(){return g("editorHTML_script")},id:"copyHTML_script","aria-label":"Copy to clipboard",children:Object(f.jsx)(Ne.a,{fontSize:"small"})})}),Object(f.jsx)("div",{id:"editorHTML_script",children:Object(f.jsx)("pre",{children:Object(f.jsx)("code",{id:"codetagsHTML_script",className:"language-html",children:"''"})})}),Object(f.jsx)("div",{className:"editorHeader",children:Object(f.jsx)(j.a,{className:a.extraMarginTop,children:"JavaScript"})}),Object(f.jsx)("div",{className:"contentcopy",children:Object(f.jsx)(J.a,{onClick:function(){return g("editor")},id:"copyJS","aria-label":"Copy to clipboard",children:Object(f.jsx)(Ne.a,{fontSize:"small"})})}),Object(f.jsx)("div",{id:"editor",children:Object(f.jsx)("pre",{children:Object(f.jsx)("code",{id:"codetagsJS",className:"language-javascript",children:"''"})})}),Object(f.jsx)(_e.a,{ContentProps:{className:a.snackbar},anchorOrigin:{vertical:"top",horizontal:"center"},open:r,autoHideDuration:3e3,onClose:function(){return o(!1)},message:"Copied to clipboard!"})]})})},we=t(426),Re=t(89),Ie=t.n(Re),Te=t(112),Be=t.n(Te),Ve=t(440),Ee=t(425),Ae=t(110),Pe=t.n(Ae),Le=t(111),Me=t.n(Le),Ge=Object(s.a)({addshape:{width:140,height:34},disabled:{color:"grey"},confirmDialog:{padding:40}});function He(e){var a=e.setPresets,t=(e.stateVars,e.addedShapes,e.selectedNodeId),c=(e.addNewZdogShape,e.setOpen),r=Ge(),o=Object(n.useState)(!1),s=Object(l.a)(o,2),i=s[0],d=s[1];function u(){d(!1)}return Object(f.jsxs)("div",{className:"toplevelactions",children:[Object(f.jsx)(J.a,{id:"createnew",onClick:function(){console.log("create new clicked"),d(!0)},"aria-label":"Create new illustration",children:Object(f.jsx)(Pe.a,{fontSize:"small"})}),Object(f.jsx)(J.a,{id:"getsourcecode",onClick:function(){console.log("getting source code"),c(!0)},"aria-label":"Source code",children:Object(f.jsx)(Me.a,{fontSize:"small"})}),Object(f.jsx)(Ce.a,{onClose:u,open:i,children:Object(f.jsxs)(ke.a,{className:r.confirmDialog,children:[Object(f.jsxs)(j.a,{children:["Starting a new Zdog Illustration will delete any work you've done so far!",Object(f.jsx)("br",{}),Object(f.jsx)("b",{children:"Be sure to grab any source code you want for your current project first."})]}),Object(f.jsxs)(j.a,{children:[Object(f.jsx)("br",{}),"Create a new Zdog Illustration?"]}),Object(f.jsxs)("div",{children:[Object(f.jsx)(Ee.a,{onClick:function(){t[1]("canvasnode"),a("blank"),u()},color:"primary",children:"Confirm"}),Object(f.jsx)(Ee.a,{onClick:u,children:"Cancel"})]})]})})]})}var Ze=Object(s.a)({addbtn:{},disabled:{color:"grey"},smallFont:{fontSize:"0.9rem"},itemAction:{paddingRight:12,color:"rgba(0, 0, 0, 0.5)",display:"inline-flex","&:hover":{color:"rgba(0, 0, 0, 0.9)"}}});function De(e){var a=Object(l.a)(e.anchor,2),t=a[0],n=a[1],r=e.selectedNodeId,o=e.addNewZdogShape,s=(e.checkParentExpanded,e.hovernodeid,Ze()),i=function(){n(null)};function d(e){i(),o(e,r[0])}return Object(f.jsx)(c.a.Fragment,{children:Object(f.jsxs)(W.a,{id:"simple-menu",anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:i,children:[Object(f.jsx)(P.a,{className:s.smallFont,divider:!0,onClick:function(){return d("Group")},value:"Group",children:"Group"}),Object(f.jsx)(P.a,{className:s.smallFont,divider:!0,onClick:function(){return d("Shape")},value:"Shape",children:"Shape"}),Object(f.jsx)(P.a,{className:s.smallFont,onClick:function(){return d("Box")},value:"Box",children:"Box"}),Object(f.jsx)(P.a,{className:s.smallFont,onClick:function(){return d("Cone")},value:"Cone",children:"Cone"}),Object(f.jsx)(P.a,{className:s.smallFont,onClick:function(){return d("Cylinder")},value:"Cylinder",children:"Cylinder"}),Object(f.jsx)(P.a,{className:s.smallFont,onClick:function(){return d("Ellipse")},value:"Ellipse",children:"Ellipse"}),Object(f.jsx)(P.a,{className:s.smallFont,onClick:function(){return d("Hemisphere")},value:"Hemisphere",children:"Hemisphere"}),Object(f.jsx)(P.a,{className:s.smallFont,onClick:function(){return d("Polygon")},value:"Polygon",children:"Polygon"}),Object(f.jsx)(P.a,{className:s.smallFont,onClick:function(){return d("Rect")},value:"Rectangle",children:"Rectangle"}),Object(f.jsx)(P.a,{className:s.smallFont,onClick:function(){return d("RoundedRect")},value:"Rounded Rectangle",children:"Rounded Rectangle"})]})})}var Ue=Object(s.a)({root:{padding:16,overflowX:"scroll",overflowY:"scroll",height:window.innerHeight-114},item:{color:"rgba(0, 0, 0, 0.87)",minWidth:260},flexy:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:4,"&:hover .itemActionsContainer":{display:"flex"}},selected:{display:"flex"},itemAction:{paddingRight:12,color:"rgba(0, 0, 0, 0.5)",display:"inline-flex","&:hover":{color:"rgba(0, 0, 0, 0.9)"}},confirmDialog:{padding:40}});function qe(e){e.setPresets,e.stateVars;var a=e.addedShapes,t=e.selectedNodeId,r=e.addNewZdogShape,o=(e.setOpen,Ue()),s=c.a.useState(["canvasnode"]),i=Object(l.a)(s,2),d=i[0],u=i[1],b=Object(n.useState)(!1),h=Object(l.a)(b,2),m=h[0],g=h[1],x=Object(n.useState)(!1),O=c.a.useState(null),v=function(e,a){u(a)},y=function(e,a){e.preventDefault(),t[1](a),console.log("nodeIds: "+a)};function C(e){var a=[];return a.push(e),a.flat()}function k(){console.log("hello"),g(!0)}function _(){g(!1)}function S(){var e=t[0].split("_");if(e.length>1){e.pop();var a=e.join("_");if(!d.includes(a)){console.log("does not include parentId");var n=C(d);n.push(a),u(n)}}else if(!d.includes("canvasnode")){var c=C(d);c.push("canvasnode"),u(c)}}function N(e){console.log("nodeid inside handleAdd = ".concat(e));var a=document.getElementById("invisibleAnchorEl");O[1](a)}var F=[];function w(e,a){var n=a;return F.push(n),console.log(0!==e.length),0!==e.length?e.map((function(e,a){var c="".concat(n,"_").concat(a);return Object(f.jsx)(Ve.a,{onLabelClick:y,onIconClick:v,className:o.item,nodeId:c,label:Object(f.jsxs)("div",{className:o.flexy,children:[z(e.shapeClass)," ",Object(f.jsxs)("div",{className:t[0]===c?o.selected:"itemActionsContainer",children:[" ",Object(f.jsx)(Q.a,{onClick:k,className:o.itemAction,fontSize:"small"})," ",Object(f.jsx)(Y.a,{onClick:function(){return N(c)},className:o.itemAction,fontSize:"small"}),"  "]})]}),children:w(e.children,c)},p())})):""}var R=a[0].map((function(e,a){return Object(f.jsx)(Ve.a,{onLabelClick:y,onIconClick:v,className:o.item,nodeId:a.toString(),label:Object(f.jsxs)("div",{className:o.flexy,children:[z(e.shapeClass)," ",Object(f.jsxs)("div",{className:t[0]===a.toString()?o.selected:"itemActionsContainer",children:[" "," ",Object(f.jsx)(Q.a,{onClick:k,className:o.itemAction,fontSize:"small"})," ",Object(f.jsx)(Y.a,{onClick:function(){return N(a.toString())},className:o.itemAction,fontSize:"small"})," "]})]}),children:w(e.children,a.toString())},p())})),I=Object(f.jsx)(Ve.a,{onLabelClick:y,onIconClick:v,className:o.item,nodeId:"canvasnode",label:Object(f.jsxs)("div",{className:o.flexy,children:["Canvas ",Object(f.jsxs)("div",{className:"canvasnode"===t[0]?o.selected:"itemActionsContainer",children:[" ",Object(f.jsx)(Y.a,{onClick:function(){return N("canvasnode")},className:o.itemAction,fontSize:"small"})," ","  "," "]})]}),children:R});return Object(n.useEffect)((function(){S()})),Object(n.useEffect)((function(){var e=C(d).concat(F);u(e),console.log(e)}),[]),Object(f.jsxs)("section",{className:"illoExplorer",children:[Object(f.jsx)("div",{id:"invisibleAnchorEl",children:" "}),Object(f.jsx)(we.a,{className:o.root,defaultCollapseIcon:Object(f.jsx)(Ie.a,{}),defaultExpandIcon:Object(f.jsx)(Be.a,{}),expanded:d,selected:t[0],onNodeToggle:v,onNodeSelect:y,children:I}),Object(f.jsx)(De,{anchor:O,addMenuOpen:x,checkParentExpanded:S,selectedNodeId:t,addNewZdogShape:r}),Object(f.jsx)(Ce.a,{onClose:_,open:m,children:Object(f.jsxs)(ke.a,{className:o.confirmDialog,children:[Object(f.jsx)(j.a,{children:"Deleting this shape will also delete any child shapes. Are you sure you want to delete this shape?"}),Object(f.jsxs)("div",{children:[Object(f.jsx)(Ee.a,{onClick:function(){var e=function(){var e=[];return e.push(a[0]),e.flat()}(),n=t[0].split("_").map((function(e){return Number(e)}));if(1===n.length)e.splice(n[0],1),t[1]("canvasnode");else{var c;n.forEach((function(a,t){0<t&&t<=n.length-2?c=c.children[a]:0===t&&(c=e[a])}));var r=n[n.length-1];c.children.splice(r,1),n.pop();var o=n.map((function(e){return e.toString()})).join("_");t[1](o)}a[1](e),_()},color:"primary",children:"Confirm"}),Object(f.jsx)(Ee.a,{onClick:_,children:"Cancel"})]})]})})]})}var Je={blank:{canvas_w:240,canvas_h:240,zoom:1,dragRotate:!0,animate:!1,rotate_x:0,rotate_y:0,rotate_z:0,spin_x:.01,spin_y:.04,spin_z:.01,easeIO:{x:!1,y:!0,z:!0,cycleCount:200,power:3},animateSelection:"ease",fallback:"A blank canvas",animationOption:"dragRotate",bgColor:"#FFDDBB",shapeLayers:[]},whitebox:{canvas_w:240,canvas_h:240,zoom:1,dragRotate:!1,animate:!0,rotate_x:0,rotate_y:0,rotate_z:0,spin_x:.01,spin_y:.04,spin_z:.01,easeIO:{x:!1,y:!0,z:!0,cycleCount:350,power:5},animateSelection:"ease",fallback:"An outline of a square rotates to reveal it is the front face of a cube",animationOption:"animate",bgColor:"#424242",shapeLayers:[{id:p(),children:[{id:p(),children:[],open:!0,shapeClass:"Box",data:{color:"#5C5C5C",backface:!0,stroke:"1",fill:!0,translate:new S.a.Vector({}),rotate:new S.a.Vector({}),width:100,height:100,depth:100,frontFace:!1,rearFace:!1,topFace:"#f5f5f5",bottomFace:"#bfbfbf",leftFace:"#e0e0e0",rightFace:"#e0e0e0"},faces:{frontFace:"#cecece",rearFace:"#cecece",topFace:!0,bottomFace:!0,leftFace:!0,rightFace:!0}}],open:!0,shapeClass:"Box",data:{color:"#5C5C5C",backface:!0,stroke:"1",fill:!1,translate:new S.a.Vector({}),rotate:new S.a.Vector({}),width:100,height:100,depth:100,frontFace:"#cecece",rearFace:"#cecece",topFace:"#cecece",bottomFace:"#cecece",leftFace:"#cecece",rightFace:"#cecece"},faces:{frontFace:!0,rearFace:!0,topFace:!0,bottomFace:!0,leftFace:!0,rightFace:!0}}]},lego:{canvas_w:450,canvas_h:450,zoom:.5,dragRotate:!0,animate:!1,rotate_x:0,rotate_y:0,rotate_z:0,spin_x:.01,spin_y:.04,spin_z:.01,easeIO:{x:!0,y:!0,z:!1,cycleCount:200,power:3},animateSelection:"ease",fallback:"Animated model of a red LEGO piece",animationOption:"animate",bgColor:"#3A7DE9",shapeLayers:[{id:p(),children:[{id:p(),children:[{id:p(),children:[],open:!0,shapeClass:"Cylinder",data:{color:"#c30006",backface:"#aa0a11",stroke:"1",fill:!0,translate:new S.a.Vector({x:-80,y:0,z:0}),rotate:new S.a.Vector({}),diameter:"65",length:"85",frontFace:"#000000"},faces:{}},{id:p(),children:[],open:!0,shapeClass:"Cylinder",data:{color:"#c30006",backface:"#aa0a11",stroke:"1",fill:!0,translate:new S.a.Vector({}),rotate:new S.a.Vector({}),diameter:"65",length:"85",frontFace:"#000000"},faces:{}},{id:p(),children:[],open:!0,shapeClass:"Cylinder",data:{color:"#c30006",backface:"#aa0a11",stroke:"1",fill:!0,translate:new S.a.Vector({x:80,y:0,z:0}),rotate:new S.a.Vector({}),diameter:"65",length:"85",frontFace:"#000000"},faces:{}}],open:!0,shapeClass:"Group",data:{translate:new S.a.Vector({x:0,y:5,z:0}),rotate:new S.a.Vector({x:1.5707963267948966,y:0,z:0})},faces:{}}],open:!0,shapeClass:"Box",data:{color:"#c30005",backface:!0,stroke:1,fill:!0,translate:new S.a.Vector({}),rotate:new S.a.Vector({}),width:"320",height:"96",depth:"160",frontFace:"#b2081f",rearFace:"#c30005",topFace:"#db0623",bottomFace:!1,leftFace:"#c30005",rightFace:"#c30005"},faces:{frontFace:!0,rearFace:!0,topFace:!0,bottomFace:"#a20106",leftFace:!0,rightFace:!0}},{id:p(),children:[{id:p(),children:[],open:!0,shapeClass:"Cylinder",data:{color:"#c30006",backface:!0,stroke:1,fill:!0,translate:new S.a.Vector({x:40,y:40,z:0}),rotate:new S.a.Vector({}),diameter:"50",length:"20",frontFace:"#db0723"},faces:{}},{id:p(),children:[],open:!0,shapeClass:"Cylinder",data:{color:"#c30006",backface:!0,stroke:1,fill:!0,translate:new S.a.Vector({x:40,y:-40,z:0}),rotate:new S.a.Vector({}),diameter:"50",length:"20",frontFace:"#db0723"},faces:{}},{id:p(),children:[],open:!0,shapeClass:"Cylinder",data:{color:"#c30006",backface:!0,stroke:1,fill:!0,translate:new S.a.Vector({x:120,y:40,z:0}),rotate:new S.a.Vector({}),diameter:"50",length:"20",frontFace:"#db0723"},faces:{}},{id:p(),children:[],open:!0,shapeClass:"Cylinder",data:{color:"#c30006",backface:!0,stroke:1,fill:!0,translate:new S.a.Vector({x:120,y:-40,z:0}),rotate:new S.a.Vector({}),diameter:"50",length:"20",frontFace:"#db0723"},faces:{}},{id:p(),children:[],open:!0,shapeClass:"Cylinder",data:{color:"#c30006",backface:!0,stroke:1,fill:!0,translate:new S.a.Vector({x:-120,y:40,z:0}),rotate:new S.a.Vector({}),diameter:"50",length:"20",frontFace:"#db0723"},faces:{}},{id:p(),children:[],open:!0,shapeClass:"Cylinder",data:{color:"#b2081f",backface:!0,stroke:1,fill:!0,translate:new S.a.Vector({x:-120,y:-40,z:0}),rotate:new S.a.Vector({}),diameter:"50",length:"20",frontFace:"#db0723"},faces:{}},{id:p(),children:[],open:!0,shapeClass:"Cylinder",data:{color:"#b2081f",backface:!0,stroke:1,fill:!0,translate:new S.a.Vector({x:-40,y:40,z:0}),rotate:new S.a.Vector({}),diameter:"50",length:"20",frontFace:"#db0723"},faces:{}},{id:p(),children:[],open:!0,shapeClass:"Cylinder",data:{color:"#b2081f",backface:!0,stroke:1,fill:!0,translate:new S.a.Vector({x:-40,y:-40,z:0}),rotate:new S.a.Vector({}),diameter:"50",length:"20",frontFace:"#db0723"},faces:{}}],open:!0,shapeClass:"Group",data:{translate:new S.a.Vector({x:0,y:-58,z:0}),rotate:new S.a.Vector({x:1.5707963267948966,y:0,z:0})},faces:{}}]}},We={Group:new S.a.Group,Ellipse:new S.a.Ellipse,Rect:new S.a.Rect,Box:new S.a.Box,Hemisphere:new S.a.Hemisphere,RoundedRect:new S.a.RoundedRect,Polygon:new S.a.Polygon,Cone:new S.a.Cone,Cylinder:new S.a.Cylinder,Shape:new S.a.Shape},Xe=Object(s.a)((function(e){return{bar:{backgroundColor:"#fafafa",color:"#eeaa00",borderBottom:"1px solid #ededed"},toolbar:{justifyContent:"space-between"},purple:{color:"#636"},code:{borderStyle:"solid",borderWidth:1,borderColor:"#d5d5d5","&:hover":{borderColor:"#f0f0f0",color:"black"}},container:{paddingTop:24,backgroundColor:"#fafafa"},smallFont:{fontSize:"0.85rem"},left:{marginLeft:"4px"}}}));var Ye=function(e){var a=Object(n.useState)("whitebox"),t=Object(l.a)(a,2),r=t[0],o=t[1],s=Object(n.useState)(Je[r]),i=Object(l.a)(s,2),d=i[0],u=(i[1],{canvas_w:Object(n.useState)(d.canvas_w),canvas_h:Object(n.useState)(d.canvas_h),zoom:Object(n.useState)(d.zoom),dragRotate:Object(n.useState)(d.dragRotate),animate:Object(n.useState)(d.animate),rotate_x:Object(n.useState)(d.rotate_x),rotate_y:Object(n.useState)(d.rotate_y),rotate_z:Object(n.useState)(d.rotate_z),spin_x:Object(n.useState)(d.spin_x),spin_y:Object(n.useState)(d.spin_y),spin_z:Object(n.useState)(d.spin_z),easeIO:Object(n.useState)(d.easeIO),animateSelection:Object(n.useState)(d.animateSelection),fallback:Object(n.useState)(d.fallback),animationOption:Object(n.useState)(d.animationOption),bgColor:Object(n.useState)(d.bgColor)}),b=Object(n.useState)(d.shapeLayers),h=Object(n.useState)(!1),m=Object(l.a)(h,2),g=m[0],x=m[1],O=Object(n.useState)({id:"",cursorPos:0}),v=Object(n.useState)("canvasnode"),y=c.a.useState(null),C=Object(l.a)(y,2),k=C[0],_=C[1],N=c.a.useState(!1),F=Object(l.a)(N,2),z=F[0],w=F[1],R=Xe();function I(){var e;e=Je[r],Object.keys(u).forEach((function(a){u[a][1](e[a])})),b[1](Je[r].shapeLayers)}var T=function(){_(null)},B=function(e){T(),window.open(e)};return console.log("selectedNodeId[0]: "+v[0]),Object(n.useEffect)((function(){"work_in_progress"!==r?(console.log("presets = '".concat(r,"'")),I(),o("work_in_progress")):console.log("presets = 'work_in_progress'")}),[r]),Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsx)(he.a,{elevation:0,position:"fixed",className:R.bar,children:Object(f.jsxs)(pe.a,{variant:"dense",className:R.toolbar,children:[Object(f.jsxs)(j.a,{variant:"h5",children:["Zdog ",Object(f.jsx)("span",{className:R.purple,children:"UI"})]}),Object(f.jsx)(He,{setPresets:o,selectedNodeId:v,setOpen:x}),Object(f.jsxs)("div",{children:[Object(f.jsx)(J.a,{className:R.left,onClick:function(e){_(e.currentTarget)},"aria-label":"more",children:Object(f.jsx)(Oe.a,{fontSize:"small"})}),Object(f.jsxs)(W.a,{id:"more-menu",anchorEl:k,keepMounted:!0,open:Boolean(k),onClose:T,children:[Object(f.jsxs)(P.a,{className:R.smallFont,onClick:function(){return B("https://github.com/oriane212/zdog-ui")},value:"Zdog-UI on GitHub",children:["Zdog-UI on GitHub ",Object(f.jsx)(ye.a,{color:"action",className:R.left,fontSize:"small"})]}),Object(f.jsxs)(P.a,{className:R.smallFont,onClick:function(){return B("https://zzz.dog/")},value:"Zdog website",children:["Zdog website ",Object(f.jsx)(ye.a,{color:"action",className:R.left,fontSize:"small"})," "]})]})]})]})}),g?Object(f.jsx)(ze,{stateVars:u,addedShapes:b,editorVisibility:[z,w],open:[g,x]}):"",Object(f.jsxs)("main",{children:[Object(f.jsx)(qe,{setPresets:o,setOpen:x,selectedNodeId:v,cursorFocus:O,addNewZdogShape:function(e,a){var t=function(){var e=[];return e.push(b[0]),e.flat()}(),n=function(e,a){var t=e[a],n=be[a],c={},r={};return("Group"===a?["translate","rotate"]:be.basic).forEach((function(e){if("Shape"===a&&"stroke"===e)c[e]=20;else if("translate"===e||"rotate"===e)c[e]=new S.a.Vector({});else if("backface"===e&&"Box"!==a)c[e]="#424242";else if("color"===e)c[e]="#5C5C5C";else{var n=t[e];c[e]=n}})),n.forEach((function(e){if("width"===e||"height"===e||"depth"===e||"diameter"===e||"length"===e||"radius"===e)c[e]=100;else if(e.includes("Face"))c[e]="frontFace"===e?"#B8B8B8":"rearFace"===e?"#424242":"#5C5C5C",r[e]=!0;else if("path"===e)c[e]=[{line:new S.a.Vector({})}],c.closed=!1;else{var a=t[e];c[e]=a}})),{data:c,faces:r}}(We,e),c={id:p(),children:[],open:!0,shapeClass:e,data:n.data,faces:n.faces};if("canvasnode"===a)t.push(c),v[1]((t.length-1).toString());else{var r,o=a.split("_").map((function(e){return Number(e)}));o.forEach((function(e,a){0<a&&a<=o.length-1?r=r.children[e]:0===a&&(r=t[e])})),r.children.push(c);var l=r.children.length;v[1](a+"_"+(l-1))}b[1](t)},stateVars:u,addedShapes:b}),Object(f.jsx)(ue,{shapes:b,stateVars:u}),Object(f.jsx)(ie,{selectedNodeId:v,cursorFocus:O,stateVars:u,addedShapes:b})]})]})},Ke=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,441)).then((function(a){var t=a.getCLS,n=a.getFID,c=a.getFCP,r=a.getLCP,o=a.getTTFB;t(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(Ye,{})}),document.getElementById("root")),Ke()}},[[361,1,2]]]);
//# sourceMappingURL=main.e91aeb61.chunk.js.map